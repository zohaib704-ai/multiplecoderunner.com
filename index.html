<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Language Code Runner</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .language-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .lang-btn {
            padding: 12px 25px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 5px;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .lang-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .lang-btn.active {
            background: #4a00e0;
            border-color: #4a00e0;
        }

        .main-content {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }

        .editor-container {
            flex: 1;
            min-width: 300px;
            display: flex;
            flex-direction: column;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .editor-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 20px;
            background: rgba(0, 0, 0, 0.7);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .editor-title {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .editor {
            flex: 1;
            height: 400px;
            padding: 15px;
            background: #1e1e1e;
            color: #d4d4d4;
            border: none;
            resize: none;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
        }

        /* Enhanced Preview Container */
        .preview-container {
            flex: 1;
            min-width: 300px;
            display: flex;
            flex-direction: column;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 20px;
            background: rgba(0, 0, 0, 0.7);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .preview-title {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .preview-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .control-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.15);
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .control-btn:active {
            transform: translateY(0);
        }

        .fullscreen-btn:hover {
            background: #4a00e0;
            border-color: #4a00e0;
        }

        .newtab-btn:hover {
            background: #00b09b;
            border-color: #00b09b;
        }

        .preview-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 550px;
            position: relative;
        }

        .preview {
            flex: 1;
            background: white;
            border: none;
            color: #333;
            overflow-y: auto;
        }

        .console {
            background: #1e1e1e;
            color: #fff;
            font-family: 'Courier New', monospace;
            padding: 15px;
            height: 150px;
            overflow-y: auto;
            border-top: 1px solid #444;
        }

        .console-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #00ff9d;
        }

        /* Fullscreen Overlay */
        .fullscreen-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            display: none;
            flex-direction: column;
        }

        .fullscreen-overlay.active {
            display: flex;
        }

        .fullscreen-header {
            padding: 15px 20px;
            background: rgba(0, 0, 0, 0.9);
            border-bottom: 1px solid #333;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .fullscreen-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: white;
        }

        .fullscreen-controls {
            display: flex;
            gap: 10px;
        }

        .fullscreen-content {
            flex: 1;
            background: white;
            margin: 0;
            padding: 0;
            overflow: auto;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        button {
            padding: 12px 30px;
            background: #4a00e0;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        button:hover {
            background: #8e2de2;
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.2);
        }

        button:active {
            transform: translateY(0);
        }

        .run-btn {
            background: #00b09b;
        }

        .run-btn:hover {
            background: #00d2a4;
        }

        .reset-btn {
            background: #ff416c;
        }

        .reset-btn:hover {
            background: #ff4b2b;
        }

        .examples {
            margin-top: 30px;
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 10px;
        }

        .examples h3 {
            margin-bottom: 15px;
            color: #00ff9d;
        }

        .example-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .example-btn {
            padding: 8px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 5px;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
        }

        .example-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        footer {
            text-align: center;
            margin-top: 30px;
            padding: 15px;
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .tab-container {
            display: flex;
            gap: 5px;
            margin-bottom: 10px;
        }

        .tab {
            padding: 8px 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px 5px 0 0;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .tab.active {
            background: #1e1e1e;
        }

        .hidden {
            display: none;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .editor, .preview-content {
                height: 300px;
            }
            
            .preview-controls {
                flex-direction: column;
                gap: 5px;
            }
            
            .control-btn {
                padding: 6px 12px;
                font-size: 0.8rem;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Multi-Language Code Runner</h1>
            <p class="subtitle">Run JavaScript, HTML/CSS/JS combined, and Python code in one place</p>
        </header>

        <div class="language-selector">
            <button class="lang-btn active" data-lang="js">JavaScript Only</button>
            <button class="lang-btn" data-lang="web">HTML/CSS/JavaScript</button>
            <button class="lang-btn" data-lang="python">Python</button>
        </div>

        <!-- JavaScript Only Section -->
        <div id="js-section" class="code-section">
            <div class="main-content">
                <div class="editor-container">
                    <div class="editor-header">
                        <div class="editor-title">JavaScript Code</div>
                    </div>
                    <textarea id="js-code" class="editor" placeholder="Write your JavaScript code here...">// Welcome to JavaScript Code Runner!
// Write your JavaScript code here and click "Run Code"

// Example: Display a greeting
document.getElementById('js-output').innerHTML = '<h2 style="color: #333; text-align: center;">Hello, JavaScript Developer!</h2>';

// Example: Create a dynamic list
const fruits = ['Apple', 'Banana', 'Orange', 'Grapes'];
const list = document.createElement('ul');
list.style.color = '#333';
list.style.padding = '20px';
fruits.forEach(fruit => {
    const item = document.createElement('li');
    item.textContent = fruit;
    item.style.margin = '5px 0';
    list.appendChild(item);
});
document.getElementById('js-output').appendChild(list);

// Example: Console output
console.log('This message appears in the console below');
console.log('You can view logs and errors here');</textarea>
                </div>

                <div class="preview-container" id="js-preview-container">
                    <div class="preview-header">
                        <div class="preview-title">Output</div>
                        <div class="preview-controls">
                            <button class="control-btn fullscreen-btn" title="Fullscreen Preview">
                                <i class="fas fa-expand"></i> Fullscreen
                            </button>
                            <button class="control-btn newtab-btn" title="Open in New Tab">
                                <i class="fas fa-external-link-alt"></i> New Tab
                            </button>
                        </div>
                    </div>
                    <div class="preview-content">
                        <div id="js-output" class="preview">
                            <!-- JavaScript output will be displayed here -->
                        </div>
                        <div class="console">
                            <div class="console-title">Console</div>
                            <div id="js-console-output"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- HTML/CSS/JavaScript Section -->
        <div id="web-section" class="code-section hidden">
            <div class="tab-container">
                <div class="tab active" data-tab="html">HTML</div>
                <div class="tab" data-tab="css">CSS</div>
                <div class="tab" data-tab="javascript">JavaScript</div>
            </div>
            <div class="main-content">
                <div class="editor-container">
                    <div class="editor-header">
                        <div class="editor-title" id="web-editor-title">HTML</div>
                    </div>
                    <textarea id="html-code" class="editor" placeholder="Write your HTML code here...">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;My Awesome Page&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div style="text-align: center; padding: 50px;"&gt;
        &lt;h1 style="color: #333;"&gt;Hello, World!&lt;/h1&gt;
        &lt;p style="color: #666; font-size: 1.2rem;"&gt;Welcome to my custom webpage&lt;/p&gt;
        &lt;button id="myButton" style="padding: 12px 30px; background: #4a00e0; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 1rem;"&gt;Click Me!&lt;/button&gt;
        &lt;div id="dynamicContent" style="margin-top: 20px;"&gt;&lt;/div&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea>
                    <textarea id="css-code" class="editor hidden" placeholder="Write your CSS code here...">body {
    font-family: 'Arial', sans-serif;
    margin: 0;
    padding: 0;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
}

h1 {
    font-size: 2.5rem;
    margin-bottom: 20px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

p {
    font-size: 1.2rem;
    margin-bottom: 30px;
    line-height: 1.6;
}

button {
    padding: 12px 30px;
    background: #ff8c00;
    color: white;
    border: none;
    border-radius: 5px;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

button:hover {
    background: #ff6a00;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.3);
}</textarea>
                    <textarea id="web-js-code" class="editor hidden" placeholder="Write your JavaScript code here...">document.getElementById('myButton').addEventListener('click', function() {
    const dynamicContent = document.getElementById('dynamicContent');
    
    // Create a new element
    const newElement = document.createElement('div');
    newElement.innerHTML = '&lt;h3 style="color: white;"&gt;Dynamic Content Added!&lt;/h3&gt;&lt;p style="color: rgba(255,255,255,0.8);"&gt;This content was created with JavaScript&lt;/p&gt;';
    newElement.style.marginTop = '20px';
    newElement.style.padding = '20px';
    newElement.style.backgroundColor = 'rgba(255,255,255,0.1)';
    newElement.style.borderRadius = '10px';
    newElement.style.backdropFilter = 'blur(10px)';
    
    dynamicContent.appendChild(newElement);
    
    // Change button text
    this.textContent = 'Clicked!';
    this.style.background = '#00b09b';
    
    // Add animation
    this.style.transform = 'scale(0.95)';
    setTimeout(() => {
        this.style.transform = 'scale(1)';
    }, 150);
});</textarea>
                </div>

                <div class="preview-container" id="web-preview-container">
                    <div class="preview-header">
                        <div class="preview-title">Live Preview</div>
                        <div class="preview-controls">
                            <button class="control-btn fullscreen-btn" title="Fullscreen Preview">
                                <i class="fas fa-expand"></i> Fullscreen
                            </button>
                            <button class="control-btn newtab-btn" title="Open in New Tab">
                                <i class="fas fa-external-link-alt"></i> New Tab
                            </button>
                        </div>
                    </div>
                    <div class="preview-content">
                        <iframe id="web-preview" class="preview"></iframe>
                    </div>
                </div>
            </div>
        </div>

        <!-- Python Section -->
        <div id="python-section" class="code-section hidden">
            <div class="main-content">
                <div class="editor-container">
                    <div class="editor-header">
                        <div class="editor-title">Python Code</div>
                    </div>
                    <textarea id="python-code" class="editor" placeholder="Write your Python code here..."># Welcome to Python Code Runner!
# Write your Python code here and click "Run Code"

# Example: Basic calculations
print("=== BASIC CALCULATIONS ===")
a = 10
b = 5
print(f"{a} + {b} = {a + b}")
print(f"{a} * {b} = {a * b}")
print(f"{a} / {b} = {a / b}")

# Example: Working with lists
print("\n=== WORKING WITH LISTS ===")
fruits = ["Apple", "Banana", "Orange", "Grapes", "Mango"]
print("Fruits list:")
for i, fruit in enumerate(fruits, 1):
    print(f"  {i}. {fruit}")

# Example: Functions
print("\n=== FUNCTIONS DEMO ===")
def factorial(n):
    if n == 0:
        return 1
    else:
        return n * factorial(n-1)

num = 6
print(f"Factorial of {num} is {factorial(num)}")

# Example: Dictionary operations
print("\n=== DICTIONARY EXAMPLE ===")
student = {
    "name": "John Doe",
    "age": 20,
    "courses": ["Math", "Science", "English"]
}
print(f"Student: {student['name']}")
print(f"Age: {student['age']}")
print(f"Courses: {', '.join(student['courses'])}")</textarea>
                </div>

                <div class="preview-container" id="python-preview-container">
                    <div class="preview-header">
                        <div class="preview-title">Python Output</div>
                        <div class="preview-controls">
                            <button class="control-btn fullscreen-btn" title="Fullscreen Preview">
                                <i class="fas fa-expand"></i> Fullscreen
                            </button>
                            <button class="control-btn newtab-btn" title="Open in New Tab">
                                <i class="fas fa-external-link-alt"></i> New Tab
                            </button>
                        </div>
                    </div>
                    <div class="preview-content">
                        <div id="python-output" class="preview">
                            <!-- Python output will be displayed here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="examples">
            <h3>Try These Examples:</h3>
            <div class="example-buttons">
                <button class="example-btn" data-example="js-clock">JS Clock</button>
                <button class="example-btn" data-example="web-calculator">Web Calculator</button>
                <button class="example-btn" data-example="python-fibonacci">Python Fibonacci</button>
                <button class="example-btn" data-example="js-counter">JS Counter</button>
                <button class="example-btn" data-example="python-guess">Python Guessing Game</button>
            </div>
        </div>

        <div class="controls">
            <button id="run-btn" class="run-btn">Run Code</button>
            <button id="reset-btn" class="reset-btn">Reset</button>
        </div>

        <footer>
            <p>Multi-Language Code Runner &copy; 2023 | Run JavaScript, HTML/CSS/JS, and Python code in real-time</p>
            <p><small>Note: Python execution is simulated in the browser. For full Python support, a backend server would be required.</small></p>
        </footer>
    </div>

    <!-- Fullscreen Overlay -->
    <div class="fullscreen-overlay" id="fullscreen-overlay">
        <div class="fullscreen-header">
            <div class="fullscreen-title" id="fullscreen-title">Output Preview - Fullscreen Mode</div>
            <div class="fullscreen-controls">
                <button class="control-btn" id="exit-fullscreen-btn">
                    <i class="fas fa-compress"></i> Exit Fullscreen
                </button>
            </div>
        </div>
        <div class="fullscreen-content" id="fullscreen-content">
            <!-- Fullscreen content will be inserted here -->
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Language selector
            const langBtns = document.querySelectorAll('.lang-btn');
            const codeSections = document.querySelectorAll('.code-section');
            
            langBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const lang = this.getAttribute('data-lang');
                    
                    // Update active button
                    langBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show selected section
                    codeSections.forEach(section => section.classList.add('hidden'));
                    document.getElementById(`${lang}-section`).classList.remove('hidden');
                });
            });
            
            // Tab system for HTML/CSS/JS section
            const tabs = document.querySelectorAll('.tab');
            const webEditors = {
                html: document.getElementById('html-code'),
                css: document.getElementById('css-code'),
                javascript: document.getElementById('web-js-code')
            };
            const webEditorTitle = document.getElementById('web-editor-title');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');
                    
                    // Update active tab
                    tabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show selected editor
                    Object.values(webEditors).forEach(editor => editor.classList.add('hidden'));
                    webEditors[tabName].classList.remove('hidden');
                    webEditorTitle.textContent = tabName.toUpperCase();
                });
            });
            
            // Store current HTML, CSS, and JS content for web preview
            let currentWebContent = {
                html: '',
                css: '',
                js: ''
            };
            
            // Enhanced Preview Controls
            function initializePreviewControls(containerId, type) {
                const previewContainer = document.getElementById(containerId);
                const fullscreenBtn = previewContainer.querySelector('.fullscreen-btn');
                const newtabBtn = previewContainer.querySelector('.newtab-btn');
                const fullscreenOverlay = document.getElementById('fullscreen-overlay');
                const fullscreenContent = document.getElementById('fullscreen-content');
                const fullscreenTitle = document.getElementById('fullscreen-title');
                const exitFullscreenBtn = document.getElementById('exit-fullscreen-btn');
                
                // Fullscreen functionality
                fullscreenBtn.addEventListener('click', function() {
                    const preview = previewContainer.querySelector('.preview');
                    const consoleElement = previewContainer.querySelector('.console');
                    
                    // Clear previous content
                    fullscreenContent.innerHTML = '';
                    
                    if (type === 'web') {
                        // For iframe content - create fresh iframe with current content
                        const iframe = document.createElement('iframe');
                        iframe.style.width = '100%';
                        iframe.style.height = '100%';
                        iframe.style.border = 'none';
                        
                        // Get current HTML, CSS, and JS content
                        const html = htmlEditor.value;
                        const css = `<style>${cssEditor.value}</style>`;
                        const js = `<script>${webJsEditor.value}<\/script>`;
                        
                        // Write the combined content to the iframe
                        const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                        iframeDoc.open();
                        iframeDoc.write(html + css + js);
                        iframeDoc.close();
                        
                        fullscreenContent.appendChild(iframe);
                        fullscreenTitle.textContent = 'Web Preview - Fullscreen Mode';
                    } else if (type === 'js') {
                        // For JavaScript output
                        const contentDiv = document.createElement('div');
                        contentDiv.style.padding = '40px';
                        contentDiv.style.minHeight = '100%';
                        contentDiv.style.background = 'white';
                        contentDiv.style.color = '#333';
                        
                        // Copy content
                        contentDiv.innerHTML = preview.innerHTML;
                        
                        fullscreenContent.appendChild(contentDiv);
                        
                        // Add console if exists
                        if (consoleElement) {
                            const consoleDiv = document.createElement('div');
                            consoleDiv.style.background = '#1e1e1e';
                            consoleDiv.style.color = 'white';
                            consoleDiv.style.padding = '20px';
                            consoleDiv.style.borderTop = '2px solid #444';
                            consoleDiv.style.fontFamily = "'Courier New', monospace";
                            
                            consoleDiv.innerHTML = `<div style="font-weight: bold; margin-bottom: 10px; color: #00ff9d;">Console Output</div>${consoleElement.querySelector('#js-console-output').innerHTML}`;
                            
                            fullscreenContent.appendChild(consoleDiv);
                        }
                        
                        fullscreenTitle.textContent = 'JavaScript Output - Fullscreen Mode';
                    } else {
                        // For Python output
                        const contentDiv = document.createElement('div');
                        contentDiv.style.padding = '40px';
                        contentDiv.style.minHeight = '100%';
                        contentDiv.style.background = 'white';
                        contentDiv.style.color = '#333';
                        contentDiv.style.fontFamily = "'Courier New', monospace";
                        contentDiv.style.whiteSpace = 'pre-wrap';
                        contentDiv.style.lineHeight = '1.4';
                        
                        // Copy content
                        contentDiv.innerHTML = preview.innerHTML;
                        
                        fullscreenContent.appendChild(contentDiv);
                        fullscreenTitle.textContent = 'Python Output - Fullscreen Mode';
                    }
                    
                    fullscreenOverlay.classList.add('active');
                    document.body.style.overflow = 'hidden';
                });
                
                // Exit fullscreen
                exitFullscreenBtn.addEventListener('click', function() {
                    fullscreenOverlay.classList.remove('active');
                    document.body.style.overflow = 'auto';
                });
                
                // New Tab functionality
                newtabBtn.addEventListener('click', function() {
                    const preview = previewContainer.querySelector('.preview');
                    
                    if (type === 'web') {
                        // For iframe content - create new window with current content
                        const html = htmlEditor.value;
                        const css = `<style>${cssEditor.value}</style>`;
                        const js = `<script>${webJsEditor.value}<\/script>`;
                        
                        const newWindow = window.open('', '_blank');
                        newWindow.document.write(html + css + js);
                        newWindow.document.close();
                    } else if (type === 'js') {
                        // For JavaScript output
                        const newWindow = window.open('', '_blank');
                        newWindow.document.write(`
                            <!DOCTYPE html>
                            <html>
                            <head>
                                <title>JavaScript Output</title>
                                <style>
                                    body { 
                                        font-family: Arial, sans-serif; 
                                        padding: 40px; 
                                        background: white; 
                                        color: #333;
                                        line-height: 1.6;
                                    }
                                    .console {
                                        background: #1e1e1e;
                                        color: white;
                                        padding: 20px;
                                        margin-top: 20px;
                                        border-radius: 5px;
                                        font-family: 'Courier New', monospace;
                                    }
                                </style>
                            </head>
                            <body>
                                ${preview.innerHTML}
                                <div class="console">
                                    <strong style="color: #00ff9d;">Console Output:</strong>
                                    <div>${previewContainer.querySelector('#js-console-output').innerHTML}</div>
                                </div>
                            </body>
                            </html>
                        `);
                        newWindow.document.close();
                    } else {
                        // For Python output
                        const newWindow = window.open('', '_blank');
                        newWindow.document.write(`
                            <!DOCTYPE html>
                            <html>
                            <head>
                                <title>Python Output</title>
                                <style>
                                    body { 
                                        font-family: 'Courier New', monospace; 
                                        padding: 40px; 
                                        background: white; 
                                        color: #333;
                                        white-space: pre-wrap;
                                        line-height: 1.4;
                                    }
                                </style>
                            </head>
                            <body>
                                ${preview.innerHTML}
                            </body>
                            </html>
                        `);
                        newWindow.document.close();
                    }
                });
                
                // Handle escape key to exit fullscreen
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape' && fullscreenOverlay.classList.contains('active')) {
                        fullscreenOverlay.classList.remove('active');
                        document.body.style.overflow = 'auto';
                    }
                });
            }
            
            // Initialize preview controls for all containers
            initializePreviewControls('js-preview-container', 'js');
            initializePreviewControls('web-preview-container', 'web');
            initializePreviewControls('python-preview-container', 'python');
            
            // JavaScript Only Runner
            const jsEditor = document.getElementById('js-code');
            const jsOutput = document.getElementById('js-output');
            const jsConsoleOutput = document.getElementById('js-console-output');
            
            // Override console.log for JavaScript section
            const originalConsoleLog = console.log;
            console.log = function(...args) {
                originalConsoleLog.apply(console, args);
                const message = args.map(arg => 
                    typeof arg === 'object' ? JSON.stringify(arg) : String(arg)
                ).join(' ');
                
                const logEntry = document.createElement('div');
                logEntry.textContent = '> ' + message;
                logEntry.style.marginBottom = '5px';
                jsConsoleOutput.appendChild(logEntry);
                jsConsoleOutput.scrollTop = jsConsoleOutput.scrollHeight;
            };
            
            // HTML/CSS/JS Runner
            const htmlEditor = document.getElementById('html-code');
            const cssEditor = document.getElementById('css-code');
            const webJsEditor = document.getElementById('web-js-code');
            const webPreview = document.getElementById('web-preview');
            
            // Python Runner (simulated)
            const pythonEditor = document.getElementById('python-code');
            const pythonOutput = document.getElementById('python-output');
            
            // Run button
            const runBtn = document.getElementById('run-btn');
            runBtn.addEventListener('click', function() {
                const activeLang = document.querySelector('.lang-btn.active').getAttribute('data-lang');
                
                if (activeLang === 'js') {
                    runJavaScript();
                } else if (activeLang === 'web') {
                    runWebCode();
                } else if (activeLang === 'python') {
                    runPython();
                }
            });
            
            // Reset button
            const resetBtn = document.getElementById('reset-btn');
            resetBtn.addEventListener('click', function() {
                const activeLang = document.querySelector('.lang-btn.active').getAttribute('data-lang');
                
                if (activeLang === 'js') {
                    if (confirm('Are you sure you want to reset the JavaScript code?')) {
                        jsEditor.value = '';
                        jsOutput.innerHTML = '';
                        jsConsoleOutput.innerHTML = '';
                    }
                } else if (activeLang === 'web') {
                    if (confirm('Are you sure you want to reset all web code?')) {
                        htmlEditor.value = '';
                        cssEditor.value = '';
                        webJsEditor.value = '';
                        webPreview.srcdoc = '';
                    }
                } else if (activeLang === 'python') {
                    if (confirm('Are you sure you want to reset the Python code?')) {
                        pythonEditor.value = '';
                        pythonOutput.innerHTML = '';
                    }
                }
            });
            
            // Function to run JavaScript code
            function runJavaScript() {
                // Clear previous output
                jsOutput.innerHTML = '';
                jsConsoleOutput.innerHTML = '';
                
                try {
                    // Execute the JavaScript code
                    eval(jsEditor.value);
                } catch (error) {
                    console.log('Error: ' + error.message);
                }
            }
            
            // Function to run HTML/CSS/JS code
            function runWebCode() {
                const html = htmlEditor.value;
                const css = `<style>${cssEditor.value}</style>`;
                const js = `<script>${webJsEditor.value}<\/script>`;
                
                // Store current content for fullscreen mode
                currentWebContent = { html, css, js };
                
                const previewDocument = webPreview.contentDocument || webPreview.contentWindow.document;
                previewDocument.open();
                previewDocument.write(html + css + js);
                previewDocument.close();
            }
            
            // Function to run Python code (simulated)
            function runPython() {
                // Clear previous output
                pythonOutput.innerHTML = '';
                
                // Get Python code
                const code = pythonEditor.value;
                
                // Simple Python interpreter simulation
                try {
                    // Split code into lines
                    const lines = code.split('\n');
                    let output = '';
                    
                    // Simple simulation of print statements
                    for (let i = 0; i < lines.length; i++) {
                        const line = lines[i].trim();
                        
                        // Skip empty lines and comments
                        if (line === '' || line.startsWith('#')) continue;
                        
                        // Handle print statements
                        if (line.startsWith('print(') && line.endsWith(')')) {
                            const content = line.substring(6, line.length - 1);
                            // Remove quotes if present
                            let text = content;
                            if ((content.startsWith('"') && content.endsWith('"')) || 
                                (content.startsWith("'") && content.endsWith("'"))) {
                                text = content.substring(1, content.length - 1);
                            }
                            // Handle f-strings and variables
                            text = text.replace(/\{([^}]+)\}/g, '<strong>$1</strong>');
                            output += text + '\n';
                        }
                        
                        // Handle variable assignments (simple simulation)
                        if (line.includes('=') && !line.includes('print')) {
                            const parts = line.split('=');
                            const varName = parts[0].trim();
                            const value = parts[1].trim();
                            
                            // Simple list simulation
                            if (value.startsWith('[') && value.endsWith(']')) {
                                output += `<span style="color: #0066cc;">${varName}</span> = <span style="color: #663399;">${value}</span>\n`;
                            } else if (!isNaN(value)) {
                                output += `<span style="color: #0066cc;">${varName}</span> = <span style="color: #cc0000;">${value}</span>\n`;
                            } else if (value.startsWith('{') && value.endsWith('}')) {
                                output += `<span style="color: #0066cc;">${varName}</span> = <span style="color: #663399;">${value}</span>\n`;
                            }
                        }
                        
                        // Handle for loops (simple simulation)
                        if (line.startsWith('for ')) {
                            const parts = line.split(' ');
                            const varName = parts[1];
                            const listName = parts[3];
                            output += `<span style="color: #008800;">Looping through ${listName}...</span>\n`;
                        }
                        
                        // Handle function definitions
                        if (line.startsWith('def ')) {
                            const funcName = line.split(' ')[1].split('(')[0];
                            output += `<span style="color: #aa00aa;">Function ${funcName} defined</span>\n`;
                        }
                    }
                    
                    pythonOutput.innerHTML = `<pre style="padding: 30px; font-family: 'Courier New', monospace; white-space: pre-wrap; line-height: 1.4; font-size: 14px;">${output}</pre>`;
                } catch (error) {
                    pythonOutput.innerHTML = `<pre style="color: red; padding: 30px; font-family: 'Courier New', monospace;">Error: ${error.message}</pre>`;
                }
            }
            
            // Example codes
            const examples = {
                'js-clock': {
                    lang: 'js',
                    code: `// Live Clock Example
function updateClock() {
    const now = new Date();
    const timeString = now.toLocaleTimeString();
    const dateString = now.toLocaleDateString();
    
    document.getElementById('js-output').innerHTML = \`
        <div style="text-align: center; padding: 40px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border-radius: 10px;">
            <h2 style="margin-bottom: 20px;">Live Clock</h2>
            <div style="font-size: 3rem; font-weight: bold; margin: 20px 0;">\${timeString}</div>
            <div style="font-size: 1.5rem; opacity: 0.9;">\${dateString}</div>
        </div>
    \`;
}

// Update the clock every second
updateClock();
setInterval(updateClock, 1000);`
                },
                'js-counter': {
                    lang: 'js',
                    code: `// Counter App Example
let count = 0;

function updateDisplay() {
    document.getElementById('js-output').innerHTML = \`
        <div style="text-align: center; padding: 40px; background: white; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
            <h2 style="color: #333; margin-bottom: 30px;">Interactive Counter</h2>
            <div style="font-size: 4rem; font-weight: bold; color: #4a00e0; margin: 20px 0;" id="count-value">\${count}</div>
            <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                <button onclick="increment()" style="padding: 12px 24px; background: #00b09b; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 1rem;">Increment +</button>
                <button onclick="decrement()" style="padding: 12px 24px; background: #ff416c; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 1rem;">Decrement -</button>
                <button onclick="resetCounter()" style="padding: 12px 24px; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 1rem;">Reset</button>
            </div>
        </div>
    \`;
}

function increment() {
    count++;
    document.getElementById('count-value').textContent = count;
    console.log('Counter incremented to: ' + count);
}

function decrement() {
    count--;
    document.getElementById('count-value').textContent = count;
    console.log('Counter decremented to: ' + count);
}

function resetCounter() {
    count = 0;
    document.getElementById('count-value').textContent = count;
    console.log('Counter reset to 0');
}

updateDisplay();`
                },
                'web-calculator': {
                    lang: 'web',
                    html: `<!DOCTYPE html>
<html>
<head>
    <title>Calculator</title>
</head>
<body>
    <div style="max-width: 350px; margin: 50px auto; background: #2c3e50; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
        <h2 style="text-align: center; color: white; margin-bottom: 20px; font-size: 1.5rem;">Scientific Calculator</h2>
        <input type="text" id="display" readonly style="width: 100%; padding: 20px; font-size: 1.8rem; margin-bottom: 20px; text-align: right; border: none; border-radius: 10px; background: #34495e; color: white;">
        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px;">
            <button onclick="clearDisplay()" style="padding: 15px; background: #e74c3c; color: white; border: none; border-radius: 10px; font-size: 1.2rem; cursor: pointer; grid-column: span 2;">C</button>
            <button onclick="deleteLast()" style="padding: 15px; background: #f39c12; color: white; border: none; border-radius: 10px; font-size: 1.2rem; cursor: pointer;">⌫</button>
            <button onclick="appendToDisplay('/')" style="padding: 15px; background: #3498db; color: white; border: none; border-radius: 10px; font-size: 1.2rem; cursor: pointer;">/</button>
            <button onclick="appendToDisplay('*')" style="padding: 15px; background: #3498db; color: white; border: none; border-radius: 10px; font-size: 1.2rem; cursor: pointer;">×</button>
            <button onclick="appendToDisplay('7')" style="padding: 15px; background: #34495e; color: white; border: none; border-radius: 10px; font-size: 1.2rem; cursor: pointer;">7</button>
            <button onclick="appendToDisplay('8')" style="padding: 15px; background: #34495e; color: white; border: none; border-radius: 10px; font-size: 1.2rem; cursor: pointer;">8</button>
            <button onclick="appendToDisplay('9')" style="padding: 15px; background: #34495e; color: white; border: none; border-radius: 10px; font-size: 1.2rem; cursor: pointer;">9</button>
            <button onclick="appendToDisplay('-')" style="padding: 15px; background: #3498db; color: white; border: none; border-radius: 10px; font-size: 1.2rem; cursor: pointer;">-</button>
            <button onclick="appendToDisplay('4')" style="padding: 15px; background: #34495e; color: white; border: none; border-radius: 10px; font-size: 1.2rem; cursor: pointer;">4</button>
            <button onclick="appendToDisplay('5')" style="padding: 15px; background: #34495e; color: white; border: none; border-radius: 10px; font-size: 1.2rem; cursor: pointer;">5</button>
            <button onclick="appendToDisplay('6')" style="padding: 15px; background: #34495e; color: white; border: none; border-radius: 10px; font-size: 1.2rem; cursor: pointer;">6</button>
            <button onclick="appendToDisplay('+')" style="padding: 15px; background: #3498db; color: white; border: none; border-radius: 10px; font-size: 1.2rem; cursor: pointer;">+</button>
            <button onclick="appendToDisplay('1')" style="padding: 15px; background: #34495e; color: white; border: none; border-radius: 10px; font-size: 1.2rem; cursor: pointer;">1</button>
            <button onclick="appendToDisplay('2')" style="padding: 15px; background: #34495e; color: white; border: none; border-radius: 10px; font-size: 1.2rem; cursor: pointer;">2</button>
            <button onclick="appendToDisplay('3')" style="padding: 15px; background: #34495e; color: white; border: none; border-radius: 10px; font-size: 1.2rem; cursor: pointer;">3</button>
            <button onclick="appendToDisplay('0')" style="padding: 15px; background: #34495e; color: white; border: none; border-radius: 10px; font-size: 1.2rem; cursor: pointer; grid-column: span 2;">0</button>
            <button onclick="appendToDisplay('.')" style="padding: 15px; background: #34495e; color: white; border: none; border-radius: 10px; font-size: 1.2rem; cursor: pointer;">.</button>
            <button onclick="calculate()" style="padding: 15px; background: #2ecc71; color: white; border: none; border-radius: 10px; font-size: 1.2rem; cursor: pointer;">=</button>
        </div>
    </div>
</body>
</html>`,
                    css: `body {
    font-family: 'Arial', sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}`,
                    js: `let display = document.getElementById('display');

function appendToDisplay(value) {
    display.value += value;
}

function clearDisplay() {
    display.value = '';
}

function deleteLast() {
    display.value = display.value.slice(0, -1);
}

function calculate() {
    try {
        display.value = eval(display.value);
    } catch (error) {
        display.value = 'Error';
    }
}`
                },
                'python-fibonacci': {
                    lang: 'python',
                    code: `# Fibonacci Sequence Example
print("=== FIBONACCI SEQUENCE ===")
def fibonacci(n):
    if n <= 0:
        return []
    elif n == 1:
        return [0]
    elif n == 2:
        return [0, 1]
    else:
        fib_sequence = [0, 1]
        for i in range(2, n):
            next_number = fib_sequence[i-1] + fib_sequence[i-2]
            fib_sequence.append(next_number)
        return fib_sequence

# Generate Fibonacci sequences
print("First 15 Fibonacci numbers:")
fib_15 = fibonacci(15)
print(fib_15)

print("\\nFirst 10 Fibonacci numbers:")
fib_10 = fibonacci(10)
print(fib_10)

# Calculate golden ratio approximation
if len(fib_15) > 1:
    golden_ratio = fib_15[-1] / fib_15[-2]
    print(f"\\nGolden Ratio Approximation: {golden_ratio:.8f}")
    print("Actual Golden Ratio: 1.61803399")`
                },
                'python-guess': {
                    lang: 'python',
                    code: `# Number Guessing Game Simulation
import random

print("=== NUMBER GUESSING GAME ===")
print("I'm thinking of a number between 1 and 100!")

# Generate a random number
secret_number = random.randint(1, 100)
attempts = 0
max_attempts = 7

print(f"You have {max_attempts} attempts to guess the number.\\n")

# Game simulation
guesses = [25, 50, 75, 60, 55, 57, 56]  # Simulated guesses

for guess in guesses:
    attempts += 1
    remaining = max_attempts - attempts
    print(f"Attempt {attempts}: You guessed {guess}")
    
    if guess < secret_number:
        print(f"  Too low! {remaining} attempts remaining.\\n")
    elif guess > secret_number:
        print(f"  Too high! {remaining} attempts remaining.\\n")
    else:
        print(f"  🎉 Congratulations! You guessed the number {secret_number} in {attempts} attempts!")
        break

if attempts == max_attempts and guess != secret_number:
    print(f"  💔 Game Over! The number was {secret_number}.")
    print("  Better luck next time!")`
                }
            };

            // Example buttons
            const exampleBtns = document.querySelectorAll('.example-btn');
            exampleBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const example = this.getAttribute('data-example');
                    const exampleData = examples[example];
                    
                    // Switch to the correct language
                    langBtns.forEach(b => b.classList.remove('active'));
                    document.querySelector(`[data-lang="${exampleData.lang}"]`).classList.add('active');
                    
                    codeSections.forEach(section => section.classList.add('hidden'));
                    document.getElementById(`${exampleData.lang}-section`).classList.remove('hidden');
                    
                    // Load the example code
                    if (exampleData.lang === 'js') {
                        jsEditor.value = exampleData.code;
                        runJavaScript();
                    } else if (exampleData.lang === 'web') {
                        htmlEditor.value = exampleData.html;
                        cssEditor.value = exampleData.css;
                        webJsEditor.value = exampleData.js;
                        runWebCode();
                    } else if (exampleData.lang === 'python') {
                        pythonEditor.value = exampleData.code;
                        runPython();
                    }
                });
            });
            
            // Run initial code
            runJavaScript();
            runWebCode();
        });
    </script>
</body>
</html>
